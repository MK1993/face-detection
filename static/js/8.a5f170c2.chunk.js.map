{"version":3,"sources":["components/Profile/Profile.js"],"names":["Profile","props","onProfileUpdate","data","fetch","user","id","method","headers","window","sessionStorage","getItem","body","JSON","stringify","formInput","then","resp","toggleModal","loadUser","catch","console","log","onFormChange","e","target","name","setState","value","age","pet","state","this","className","src","alt","entries","Date","joined","toLocaleDateString","htmlFor","onChange","type","placeholder","style","display","justifyContent","onClick","Component"],"mappings":"4LAEMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAIRC,gBAAkB,SAACC,GACjBC,MAAM,8DAAD,OAA+D,EAAKH,MAAMI,KAAKC,IAAM,CACxFC,OAAQ,OACRC,QAAS,CAAC,eAAgB,mBAAmB,cAAiBC,OAAOC,eAAeC,QAAQ,UAC5FC,KAAMC,KAAKC,UAAU,CAACC,UAAWZ,MAChCa,MAAK,SAAAC,GACJ,EAAKhB,MAAMiB,cACX,EAAKjB,MAAMkB,SAAX,2BAAyB,EAAKlB,MAAMI,MAASF,OAC9CiB,MAAMC,QAAQC,MAbA,EAgBnBC,aAAc,SAAAC,GAAI,OAAOA,EAAEC,OAAOC,MAAM,IAAI,YAAY,EAAKC,SAAS,CAACD,KAAKF,EAAEC,OAAOG,QAAQ,MAAM,IAAI,WAAW,EAAKD,SAAS,CAACE,IAAIL,EAAEC,OAAOG,QAAQ,MAAM,IAAI,WAAW,EAAKD,SAAS,CAACG,IAAIN,EAAEC,OAAOG,QAAQ,MAAM,QAAQ,SAd3N,EAAKG,MAAM,CAACL,KAAK,EAAKzB,MAAMI,KAAKqB,KAAKG,IAAI,EAAK5B,MAAMI,KAAKwB,IAAIC,IAAI,EAAK7B,MAAMI,KAAKyB,KAFjE,E,0CAkBnB,WAAU,IAAD,OACP,EAAyCE,KAAK/B,MAA5BiB,EAAlB,EAAMA,YAA6Bb,EAAnC,EAA8BA,KAA9B,EAAgF2B,KAAKD,MAA3BL,EAA1D,EAAqDA,KAAcG,EAAnE,EAA+DA,IAAYC,EAA3E,EAAuEA,IACvE,OACE,sBAAKG,UAAU,gBAAf,cAAgC,0BAASA,UAAU,0EAAnB,cAA8F,uBAAMA,UAAU,oBAAhB,cAAqC,qBAAKC,IAAI,kCAAkCD,UAAU,YAAYE,IAAI,WAA1G,IAAqH,6BAAKT,IAA1H,IAAqI,yDAA0BrB,EAAK+B,WAApK,IAAoL,oDAAqB,IAAIC,KAAKhC,EAAKiC,QAAQC,wBAA2B,uBAA1P,IAAgQ,uBAAON,UAAU,UAAUO,QAAQ,YAAnC,mBAAhQ,IAA6T,uBAAOC,SAAUT,KAAKT,aAAamB,KAAK,OAAOhB,KAAK,YAAYO,UAAU,eAAeU,YAAajB,IAAna,IAAkb,uBAAOO,UAAU,UAAUO,QAAQ,WAAnC,kBAAlb,IAA6e,uBAAOC,SAAUT,KAAKT,aAAamB,KAAK,OAAOhB,KAAK,WAAWO,UAAU,eAAeU,YAAad,IAAllB,IAAgmB,uBAAOI,UAAU,UAAUO,QAAQ,WAAnC,4BAAhmB,IAAqqB,uBAAOC,SAAUT,KAAKT,aAAamB,KAAK,OAAOhB,KAAK,WAAWO,UAAU,eAAeU,YAAab,IAA1wB,IAAwxB,sBAAKG,UAAU,MAAMW,MAAO,CAACC,QAAS,OAAQC,eAAgB,gBAA9D,cAAgF,wBAAQb,UAAU,gEAAgEc,QAAS,kBAAK,EAAK7C,gBAAgB,CAACwB,OAAMG,MAAKC,SAAjI,oBAAhF,IAAwO,wBAAQG,UAAU,+DAA+Dc,QAAS7B,EAA1F,sBAAxO,UAAt3B,IAAquC,qBAAKe,UAAU,cAAcc,QAAS7B,EAAtC,uBAArwC,W,GAtBgB8B,aA2BPhD","file":"static/js/8.a5f170c2.chunk.js","sourcesContent":["import React, { Component } from 'react';import './Profile.css';\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state={name:this.props.user.name,age:this.props.user.age,pet:this.props.user.pet};\r\n  }\r\n\r\n  onProfileUpdate = (data) => {\r\n    fetch(`https://face-recognition-app-backend.herokuapp.com/profile/${this.props.user.id}`, {\r\n      method: 'post',\r\n      headers: {'Content-Type': 'application/json','Authorization': window.sessionStorage.getItem('token')},\r\n      body: JSON.stringify({formInput: data})\r\n    }).then(resp => {\r\n        this.props.toggleModal();\r\n        this.props.loadUser({ ...this.props.user, ...data });\r\n    }).catch(console.log)\r\n  }\r\n  \r\n  onFormChange=(e=>{switch(e.target.name){case\"user-name\":this.setState({name:e.target.value});break;case\"user-age\":this.setState({age:e.target.value});break;case\"user-pet\":this.setState({pet:e.target.value});break;default:return}});\r\n\r\n  render() {\r\n    const{toggleModal:toggleModal,user:user}=this.props,{name:name,age:age,pet:pet}=this.state;\r\n    return (\r\n      <div className='profile-modal'> <article className='br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center bg-white'> <main className='pa4 black-80 w-80'> <img src='http://tachyons.io/img/logo.jpg' className='h3 w3 dib' alt='avatar'/> <h1>{name}</h1> <h4>{`Images submitted: ${user.entries}`}</h4> <p>{`Member since: ${new Date(user.joined).toLocaleDateString()}`}</p><hr/> <label className='mt2 fw6' htmlFor='user-name'>Name:</label> <input onChange={this.onFormChange}type='text' name='user-name' className='pa2 ba w-100' placeholder={name}></input> <label className='mt2 fw6' htmlFor='user-age'>Age:</label> <input onChange={this.onFormChange}type='text' name='user-age' className='pa2 ba w-100' placeholder={age}></input> <label className='mt2 fw6' htmlFor='user-pet'>Favourite Pet:</label> <input onChange={this.onFormChange}type='text' name='user-pet' className='pa2 ba w-100' placeholder={pet}></input> <div className='mt4' style={{display: 'flex', justifyContent: 'space-evenly'}}> <button className='b pa2 grow pointer hover-white w-40 bg-light-blue b--black-20' onClick={()=> this.onProfileUpdate({name, age, pet})}> Save </button> <button className='b pa2 grow pointer hover-white w-40 bg-light-red b--black-20' onClick={toggleModal}> Cancel </button> </div></main> <div className='modal-close' onClick={toggleModal}> &times; </div></article> </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;"],"sourceRoot":""}