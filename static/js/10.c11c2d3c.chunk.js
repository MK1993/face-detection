(this.webpackJsonpfra=this.webpackJsonpfra||[]).push([[10],{363:function(e,n,t){},393:function(e,n,t){"use strict";t.r(n);var s=t(41),a=t(42),o=t(44),i=t(43),c=t(9),r=(t(363),t(7)),l=function(e){Object(o.a)(t,e);var n=Object(i.a)(t);function t(e){var a;return Object(s.a)(this,t),(a=n.call(this,e)).onEmailChange=function(e){a.setState({emailInput:e.target.value})},a.onPasswordChange=function(e){a.setState({pswInput:e.target.value})},a.saveAuthTokenInSessions=function(e){window.sessionStorage.setItem("token",e)},a.onSubmitSignIn=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.emailInput,password:a.state.pswInput})};fetch("https://face-recognition-app-backend.herokuapp.com/signin",e).then((function(e){return e.json()})).then((function(e){console.log(e),e.userId&&"true"===e.success?(a.saveAuthTokenInSessions(e.token),fetch("https://face-recognition-app-backend.herokuapp.com/profile/".concat(e.userId),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e.token}}).then((function(e){return e.json()})).then((function(e){e&&e.email&&(a.props.loadUser(e),a.props.onRouteChange("home"))})).catch(console.log)):(a.props.loadUser(e),a.props.onRouteChange("home"))})).catch(console.log)},a.state={emailInput:"",pswInput:""},a}return Object(a.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"w-30 mw5 mw7-ns center",children:[" ",Object(r.jsxs)("article",{className:"br2 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l shadow-2 center",children:[Object(r.jsx)("main",{className:"pa4 black-80",children:Object(r.jsxs)("div",{children:[" ",Object(r.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[" ",Object(r.jsx)("legend",{className:"f2 fw6 ph0 mh0 center",children:"Sign In"})," ",Object(r.jsxs)("div",{className:"mt3",children:[" ",Object(r.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"})," ",Object(r.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(r.jsxs)("div",{className:"mv3",children:[Object(r.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]})," ",Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:this.onSubmitSignIn})]}),Object(r.jsx)("div",{className:"lh-copy mt3",children:Object(r.jsx)("p",{className:"f6 link dim black db pointer",onClick:function(){return e.props.onRouteChange("register")},children:"Register"})})]})})," "]})]})}}]),t}(c.Component);n.default=l}}]);
//# sourceMappingURL=10.c11c2d3c.chunk.js.map