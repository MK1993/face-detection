{"version":3,"sources":["components/SignIn/SignIn.js"],"names":["SignIn","props","onEmailChange","t","setState","emailInput","target","value","onPasswordChange","pswInput","saveAuthTokenInSessions","e","window","sessionStorage","setItem","onSubmitSignIn","requestOptions","method","headers","body","JSON","stringify","email","state","password","fetch","then","response","json","data","console","log","userId","success","token","user","loadUser","onRouteChange","catch","className","id","htmlFor","type","name","onChange","this","onClick","Component"],"mappings":"qLAEMA,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAGVC,cAAe,SAAAC,GAAI,EAAKC,SAAS,CAACC,WAAWF,EAAEG,OAAOC,SAJnC,EAKnBC,iBAAkB,SAAAL,GAAI,EAAKC,SAAS,CAACK,SAASN,EAAEG,OAAOC,SALpC,EAMnBG,wBAAyB,SAAAC,GAAIC,OAAOC,eAAeC,QAAQ,QAAQH,IANhD,EAOnBI,eAAiB,WACb,IAAMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,MAAO,EAAKC,MAAMlB,WAAWmB,SAAS,EAAKD,MAAMd,YAE5EgB,MAAM,4DAA4DT,GACjEU,MAAK,SAAAC,GAAQ,OAAGA,EAASC,UACzBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACTA,EAAKG,QAA2B,SAAjBH,EAAKI,SACnB,EAAKvB,wBAAwBmB,EAAKK,OAClCT,MAAM,8DAAD,OAA+DI,EAAKG,QAAU,CAC/Ef,OAAQ,MACRC,QAAS,CACT,eAAgB,mBAChB,cAAiBW,EAAKK,SAGzBR,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAS,GACEA,GAAQA,EAAKb,QACf,EAAKrB,MAAMmC,SAASD,GACpB,EAAKlC,MAAMoC,cAAc,YAG9BC,MAAMR,QAAQC,OAEf,EAAK9B,MAAMmC,SAASP,GACpB,EAAK5B,MAAMoC,cAAc,YAGhCC,MAAMR,QAAQC,MArCf,EAAKR,MAAM,CAAClB,WAAW,GAAGI,SAAS,IAFpB,E,0CAyCnB,WAAU,IAAD,OACL,OACI,sBAAK8B,UAAU,yBAAf,cAAyC,0BAASA,UAAU,uEAAnB,UAA0F,sBAAMA,UAAU,eAAhB,SAA+B,oCAAM,2BAAUC,GAAG,UAAUD,UAAU,4BAAjC,cAA8D,wBAAQA,UAAU,wBAAlB,qBAA9D,IAAyH,sBAAKA,UAAU,MAAf,cAAsB,uBAAOA,UAAU,oBAAoBE,QAAQ,gBAA7C,mBAAtB,IAAiG,uBAAOF,UAAU,qEAAqEG,KAAK,QAAQC,KAAK,gBAAgBH,GAAG,gBAAgBI,SAAUC,KAAK3C,mBAAsB,sBAAKqC,UAAU,MAAf,UAAqB,uBAAOA,UAAU,oBAAoBE,QAAQ,WAA7C,sBAAwE,uBAAOF,UAAU,uEAAuEG,KAAK,WAAWC,KAAK,WAAWH,GAAG,WAAWI,SAAUC,KAAKrC,yBAAloB,IAAuqB,oCAAM,uBAAO+B,UAAU,uEAAuEG,KAAK,SAASnC,MAAM,UAAUuC,QAASD,KAAK9B,oBAAuB,qBAAKwB,UAAU,cAAf,SAA6B,mBAAGA,UAAU,+BAA+BO,QAAS,kBAAI,EAAK7C,MAAMoC,cAAc,aAAlF,6BAA99B,c,GA5ChCU,aAiDN/C","file":"static/js/10.c11c2d3c.chunk.js","sourcesContent":["import React,{Component} from 'react';import\"./SignIn.css\"; \r\n\r\nclass SignIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={emailInput:\"\",pswInput:\"\"};\r\n    }\r\n    onEmailChange=(t=>{this.setState({emailInput:t.target.value})});\r\n    onPasswordChange=(t=>{this.setState({pswInput:t.target.value})});\r\n    saveAuthTokenInSessions=(e=>{window.sessionStorage.setItem(\"token\",e)});\r\n    onSubmitSignIn = ()=>{\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ email: this.state.emailInput,password:this.state.pswInput })\r\n        };\r\n        fetch('https://face-recognition-app-backend.herokuapp.com/signin',requestOptions)\r\n        .then(response =>response.json())\r\n        .then(data => { \r\n            console.log(data)\r\n            if(data.userId && data.success === \"true\"){\r\n                this.saveAuthTokenInSessions(data.token)\r\n                fetch(`https://face-recognition-app-backend.herokuapp.com/profile/${data.userId}`, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': data.token\r\n                    }\r\n                })\r\n                .then(response => response.json())\r\n                .then(user => {\r\n                    if (user && user.email) {\r\n                      this.props.loadUser(user)\r\n                      this.props.onRouteChange('home');\r\n                    }\r\n                })\r\n                .catch(console.log)\r\n            } else {\r\n                this.props.loadUser(data)\r\n                this.props.onRouteChange('home');\r\n            }\r\n        })\r\n        .catch(console.log)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"w-30 mw5 mw7-ns center\"> <article className=\"br2 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l shadow-2 center\"><main className=\"pa4 black-80\"><div> <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\"> <legend className=\"f2 fw6 ph0 mh0 center\">Sign In</legend> <div className=\"mt3\"> <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label> <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"email\" name=\"email-address\" id=\"email-address\" onChange={this.onEmailChange}/></div><div className=\"mv3\"><label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label><input className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"password\" name=\"password\" id=\"password\" onChange={this.onPasswordChange}/></div></fieldset> <div> <input className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" type=\"submit\" value=\"Sign in\" onClick={this.onSubmitSignIn}/></div><div className=\"lh-copy mt3\"><p className=\"f6 link dim black db pointer\" onClick={()=>this.props.onRouteChange('register')}>Register</p></div></div></main> </article></div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default SignIn;"],"sourceRoot":""}